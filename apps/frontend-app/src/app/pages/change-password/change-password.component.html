<h2>تغيير كلمة المرور</h2>

<form (ngSubmit)="onSubmit()">
  <input
    type="password"
    [(ngModel)]="oldPassword"
    name="oldPassword"
    placeholder="كلمة المرور الحالية"
    required
  />

  <input
    type="password"
    [(ngModel)]="newPassword"
    name="newPassword"
    placeholder="كلمة المرور الجديدة"
    required
  />

  <input
    type="password"
    [(ngModel)]="confirmPassword"
    name="confirmPassword"
    placeholder="تأكيد كلمة المرور الجديدة"
    required
  />

  <div *ngIf="passwordMismatch" style="color: red; margin-top: 10px;">
    كلمة المرور الجديدة غير متطابقة.
  </div>

  <button type="submit" [disabled]="loading$ | async">تغيير كلمة المرور</button>

  <div *ngIf="loading$ | async">جاري الإرسال...</div>
  <div *ngIf="error$ | async as error" style="color: red">{{ error }}</div>
  <div *ngIf="success$ | async as success" style="color: green">
    {{ success }}
  </div>
</form>
